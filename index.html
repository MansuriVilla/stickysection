<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Sticky Section</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: #0a0a0a;
            color: #fff;
            font-family: sans-serif;
        }

        .spacer {
            height: 100vh;
            background-color: antiquewhite;
            display: flex;
        }

        
        #stacking_section-container {
            position: relative;
        }

        .stacking_section-inner {
            display: flex;
            height: 100vh;
            
            align-items: center;
            justify-content: center;
        }


        .stacking_left,
        .stacking_right {
            flex: 20%;
            padding: 1rem;
            position: relative;
            height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
        }

        .stacking_center {
            flex: 50%;
            position: relative;
            width: 300px;
            height: 600px;
        }

        
        .device-frame {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            inset: 0;
            z-index: 5;
            max-width: 400px;
            margin: 0 auto;
        }

        .screen {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 2;
        }

        .feature-bg {
            position: absolute;
            width: 100%;
            margin-bottom: 2rem;
            max-width: 600px;
            width: 100%;
        }

        .feature {
            position: absolute;
        }
    </style>
</head>

<body>
    <div class="spacer"></div>

    <div id="stacking_section-container">
        <div class="stacking_section-inner">
            

            <div class="stacking_section-content__Text stacking_left">
                <div class="feature"><h3>One</h3><p>First feature.</p></div>
                <div class="feature"><h3>Two</h3><p>First feature.</p></div>
                <div class="feature"><h3>Three</h3><p>First feature.</p></div>
                <div class="feature"><h3>Four</h3><p>First feature.</p></div>
                <div class="feature"><h3>Five</h3><p>First feature.</p></div>
                <div class="feature"><h3>Six</h3><p>First feature.</p></div>
                <div class="feature"><h3>Seven</h3><p>First feature.</p></div>
                <div class="feature"><h3>Eight</h3><p>First feature.</p></div>

            </div>
            
            <div class="stacking_section-content__Device stacking_center">
                <img class="device-frame" src="./frame.png" alt="Frame" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1583121274602-3e2820c69888?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    alt="Frame" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8Y2Fyc3xlbnwwfHwwfHx8MA%3D%3D" />
                <img class="screen"
                    src="https://plus.unsplash.com/premium_photo-1664304752635-3e0d8d8185e3?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1583121274602-3e2820c69888?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    alt="Frame" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
                <img class="screen"
                    src="https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8Y2Fyc3xlbnwwfHwwfHx8MA%3D%3D" />
                <img class="screen"
                    src="https://plus.unsplash.com/premium_photo-1664304752635-3e0d8d8185e3?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
            </div>
            
            <div class="stacking_section-content__Bg stacking_right">
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1473042904451-00171c69419d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDJ8fHxlbnwwfHx8fHw%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1470723710355-95304d8aece4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fGNhcnN8ZW58MHx8MHx8fDA%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1473042904451-00171c69419d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDJ8fHxlbnwwfHx8fHw%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1603386329225-868f9b1ee6c9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fGNhcnN8ZW58MHx8MHx8fDA%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1473042904451-00171c69419d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDJ8fHxlbnwwfHx8fHw%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1470723710355-95304d8aece4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fGNhcnN8ZW58MHx8MHx8fDA%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1473042904451-00171c69419d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDJ8fHxlbnwwfHx8fHw%3D" />
                <img class="feature-bg"
                    src="https://images.unsplash.com/photo-1603386329225-868f9b1ee6c9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fGNhcnN8ZW58MHx8MHx8fDA%3D" />
            </div>
        </div>
    </div>

    <div class="spacer"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const texts = gsap.utils.toArray('.feature'),
            screens = gsap.utils.toArray('.screen'),
            bgs = gsap.utils.toArray('.feature-bg');

        gsap.set([texts[0], screens[0], bgs[0]], { opacity: 1, y: 0 });
        gsap.set([...texts.slice(1), ...screens.slice(1), ...bgs.slice(1)], { opacity: 0, y: 100 });

        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: "#stacking_section-container",
                start: "top top",
                end: "+=" + (window.innerHeight * 13), 
                scrub: 0.2,
                pin: true,
                markers: true
            }
        });

        texts.forEach((txt, i) => {
            if (i < texts.length - 1) {
                tl.to([txt, screens[i], bgs[i]], { opacity: 1, y: 0, duration: 1.0, ease: "power1.out" })
                    .to({}, { duration: 0.5 }) `
                    .to([txt, screens[i], bgs[i]], { opacity: 0, y: -100, duration: 1.0, ease: "power1.in" });
            } else {
                
                tl.to([txt, screens[i], bgs[i]], { opacity: 1, y: 0, duration: 1.0, ease: "power1.out" })
                    .to({}, { duration: 0.5 }); 
            }
        });
    </script>
</body>

</html>